import{b}from"./chunk-IV47XWF4.js";import{Fa as D,Ha as y,J as v,Ja as g,Ka as f,La as o,Ma as l,Na as w,O as p,Oa as E,Pa as P,Ua as I,V as u,Va as R,W as S,fa as T,na as _,pa as r,va as C,ya as h}from"./chunk-PAMSZ3Z2.js";var c=class t{trendingScrollState=T(0);static \u0275fac=function(e){return new(e||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var G=["groupDiv"],H=(t,i)=>i.id;function V(t,i){if(t&1&&(o(0,"div"),w(1,"img",3),l()),t&2){let e=i.$implicit;r(),D("src",e.url,_)("alt",e.title)}}function j(t,i){if(t&1&&(o(0,"div",2),g(1,V,2,2,"div",null,H),l()),t&2){let e=i.$implicit;r(),f(e)}}var d=class t{gifService=p(b);scrollStateService=p(c);scrollDivRef=C("groupDiv");ngAfterViewInit(){let i=this.scrollDivRef()?.nativeElement;i&&(i.scrollTop=this.scrollStateService.trendingScrollState())}onScroll(i){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let n=e.scrollTop,a=e.clientHeight,m=e.scrollHeight,s=n+a+300>=m;this.scrollStateService.trendingScrollState.set(n),s&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-trending-page"]],viewQuery:function(e,n){e&1&&I(n.scrollDivRef,G,5),e&2&&R()},decls:4,vars:0,consts:[["groupDiv",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-2","md:grid-cols-3","gap-4","pt-5",3,"scroll"],[1,"grid","gap-4"],[1,"h-full","max-w-full","rounded-lg","object-cover",3,"src","alt"]],template:function(e,n){if(e&1){let a=E();o(0,"div",1,0),P("scroll",function(s){return u(a),S(n.onScroll(s))}),g(2,j,3,0,"div",2,y),l()}e&2&&(r(2),f(n.gifService.trendingGifGroup()))},encapsulation:2,changeDetection:0})};export{d as default};
